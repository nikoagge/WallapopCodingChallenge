{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"objectMessagesAlreadyBeingIntercepted"},{"kind":"text","text":"("},{"kind":"externalParam","text":"target"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AnyObject","preciseIdentifier":"s:s9AnyObjecta"},{"kind":"text","text":", "},{"kind":"externalParam","text":"interceptionMechanism"},{"kind":"text","text":": "},{"kind":"typeIdentifier","identifier":"doc:\/\/org.cocoapods.RxCocoa\/documentation\/RxCocoa\/RxCocoaInterceptionMechanism","preciseIdentifier":"s:7RxCocoa0aB21InterceptionMechanismO","text":"RxCocoaInterceptionMechanism"},{"kind":"text","text":")"}],"languages":["swift"],"platforms":["iOS"]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The most common case when this would happen is when using a combination of KVO ("},{"type":"codeVoice","code":"observe"},{"type":"text","text":") and "},{"type":"codeVoice","code":"sentMessage"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This error is easily resolved by just using "},{"type":"codeVoice","code":"sentMessage"},{"type":"text","text":" observing before "},{"type":"codeVoice","code":"observe"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The reason why the other way around could create issues is because KVO will unregister it’s interceptor"},{"type":"text","text":" "},{"type":"text","text":"class and restore original class. Unfortunately that will happen no matter was there another interceptor"},{"type":"text","text":" "},{"type":"text","text":"subclass registered in hierarchy or not."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Failure scenario:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"KVO sets class to be "},{"type":"codeVoice","code":"__KVO__OriginalClass"},{"type":"text","text":" (subclass of "},{"type":"codeVoice","code":"OriginalClass"},{"type":"text","text":")"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"sentMessage"},{"type":"text","text":" sets object class to be "},{"type":"codeVoice","code":"_RX_namespace___KVO__OriginalClass"},{"type":"text","text":" (subclass of "},{"type":"codeVoice","code":"__KVO__OriginalClass"},{"type":"text","text":")"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"then unobserving with KVO will restore class to be "},{"type":"codeVoice","code":"OriginalClass"},{"type":"text","text":" -> failure point (possibly a bug in KVO)"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The reason why changing order of observing works is because any interception method on unregistration"},{"type":"text","text":" "},{"type":"text","text":"should return object’s original real class (if that doesn’t happen then it’s really easy to argue that’s a bug"},{"type":"text","text":" "},{"type":"text","text":"in that interception mechanism)."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This library won’t remove registered interceptor even if there aren’t any observers left because"},{"type":"text","text":" "},{"type":"text","text":"it’s highly unlikely it would have any benefit in real world use cases, and it’s even more"},{"type":"text","text":" "},{"type":"text","text":"dangerous."}]}]}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/rxcocoa\/rxcocoaobjcruntimeerror\/objectmessagesalreadybeingintercepted(target:interceptionmechanism:)"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/org.cocoapods.RxCocoa\/documentation\/RxCocoa\/RxCocoaObjCRuntimeError\/objectMessagesAlreadyBeingIntercepted(target:interceptionMechanism:)","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"If the object is reporting a different class then it’s real class, that means that there is probably"},{"type":"text","text":" "},{"type":"text","text":"already some interception mechanism in place or something weird is happening."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"objectMessagesAlreadyBeingIntercepted"},{"kind":"text","text":"("},{"kind":"externalParam","text":"target"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AnyObject","preciseIdentifier":"s:s9AnyObjecta"},{"kind":"text","text":", "},{"kind":"externalParam","text":"interceptionMechanism"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"RxCocoaInterceptionMechanism","preciseIdentifier":"s:7RxCocoa0aB21InterceptionMechanismO"},{"kind":"text","text":")"}],"title":"RxCocoaObjCRuntimeError.objectMessagesAlreadyBeingIntercepted(target:interceptionMechanism:)","roleHeading":"Case","role":"symbol","symbolKind":"case","externalID":"s:7RxCocoa0aB16ObjCRuntimeErrorO37objectMessagesAlreadyBeingInterceptedyACyXl_AA0aB21InterceptionMechanismOtcACmF","modules":[{"name":"RxCocoa"}]},"hierarchy":{"paths":[["doc:\/\/org.cocoapods.RxCocoa\/documentation\/RxCocoa","doc:\/\/org.cocoapods.RxCocoa\/documentation\/RxCocoa\/RxCocoaObjCRuntimeError"]]},"references":{"doc://org.cocoapods.RxCocoa/documentation/RxCocoa/RxCocoaInterceptionMechanism":{"role":"symbol","title":"RxCocoaInterceptionMechanism","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"RxCocoaInterceptionMechanism"}],"abstract":[{"type":"text","text":"RxCocoa ObjC runtime interception mechanism."}],"identifier":"doc:\/\/org.cocoapods.RxCocoa\/documentation\/RxCocoa\/RxCocoaInterceptionMechanism","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"RxCocoaInterceptionMechanism"}],"url":"\/documentation\/rxcocoa\/rxcocoainterceptionmechanism"},"doc://org.cocoapods.RxCocoa/documentation/RxCocoa":{"role":"collection","title":"RxCocoa","abstract":[],"identifier":"doc:\/\/org.cocoapods.RxCocoa\/documentation\/RxCocoa","kind":"symbol","type":"topic","url":"\/documentation\/rxcocoa"},"doc://org.cocoapods.RxCocoa/documentation/RxCocoa/RxCocoaObjCRuntimeError":{"role":"symbol","title":"RxCocoaObjCRuntimeError","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"RxCocoaObjCRuntimeError"}],"abstract":[{"type":"text","text":"RxCocoa ObjC runtime modification errors."}],"identifier":"doc:\/\/org.cocoapods.RxCocoa\/documentation\/RxCocoa\/RxCocoaObjCRuntimeError","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"RxCocoaObjCRuntimeError"}],"url":"\/documentation\/rxcocoa\/rxcocoaobjcruntimeerror"},"doc://org.cocoapods.RxCocoa/documentation/RxCocoa/RxCocoaObjCRuntimeError/objectMessagesAlreadyBeingIntercepted(target:interceptionMechanism:)":{"role":"symbol","title":"RxCocoaObjCRuntimeError.objectMessagesAlreadyBeingIntercepted(target:interceptionMechanism:)","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"objectMessagesAlreadyBeingIntercepted"},{"kind":"text","text":"("},{"kind":"externalParam","text":"target"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AnyObject","preciseIdentifier":"s:s9AnyObjecta"},{"kind":"text","text":", "},{"kind":"externalParam","text":"interceptionMechanism"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"RxCocoaInterceptionMechanism","preciseIdentifier":"s:7RxCocoa0aB21InterceptionMechanismO"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"If the object is reporting a different class then it’s real class, that means that there is probably"},{"type":"text","text":" "},{"type":"text","text":"already some interception mechanism in place or something weird is happening."}],"identifier":"doc:\/\/org.cocoapods.RxCocoa\/documentation\/RxCocoa\/RxCocoaObjCRuntimeError\/objectMessagesAlreadyBeingIntercepted(target:interceptionMechanism:)","kind":"symbol","type":"topic","url":"\/documentation\/rxcocoa\/rxcocoaobjcruntimeerror\/objectmessagesalreadybeingintercepted(target:interceptionmechanism:)"}}}